@use "sass:color" as sasscolor;

@use "@zaydek/duomo" as * with ($headless: true);

// FIXME: color(white) color(transparent) color(black)

// prettier-ignore
$light: (
	// App
	app-bg: color(white),
	app-shadow: (0 0 0 1px color(cool-gray-200), shadow(xs), shadow(md)),

	search-bar-bg: color(white),
	// ...

	// Sidebar
	sidebar-bg: color(white),
	sidebar-preview-bg: color(white),

	// Demo 2
	demo-2-bg: color(white),
	demo-2-username-color: color(cool-gray-800),
	demo-2-hr-bg: color(cool-gray-200),
	demo-2-password-color: color(cool-gray-800),
	demo-2-shadow: (shadow(px), shadow(xs), shadow(sm)),

	// Demo 3
	demo-3-bg: #1da1f2,
	demo-3-shadow: (shadow(px), shadow(xs), shadow(sm)),
	demo-3-svg-color: color(white),
	demo-3-text-color: color(white),

	demo-4-li-bg: color(cool-gray-100),
	demo-4-li-shadow: 0 0 0 1px transparent,
	demo-4-li-svg-color: color(black),
	demo-4-li-text-color: color(black),

	demo-5-li-bg: color(cool-gray-100),
	// FIXME: Change to `color(transparent)`.
	demo-5-li-shadow: 0 0 0 1px transparent,
	// demo-5-border-color: color(cool-gray-100),

	// Card
	card-bg: color(white), // TODO
	card-border-color: color(cool-gray-200),

	// SVG
	svg-color: color(cool-gray-800),
	faded-svg-color: color(cool-gray-800),
	faded-svg-opacity: 0.5,
);

// TODO: Why does this not work? `card-bg: sasscolor.scale(hex(color(cool-gray-700)), 0.1)`

// prettier-ignore
$dark: (
	// App
	app-bg: color(cool-gray-800),
	app-shadow: (0 0 0 1px color(cool-gray-700), shadow(xs), shadow(md)),

	search-bar-bg: color(cool-gray-800),
	// ...

	// Sidebar
	sidebar-bg: color(cool-gray-800),
	sidebar-preview-bg: color(cool-gray-800),

	// Demo 2
	demo-2-bg: color(cool-gray-800),
	demo-2-username-color: color(cool-gray-200),
	demo-2-hr-bg: color(cool-gray-600),
	demo-2-password-color: color(cool-gray-200),
	demo-2-shadow: 0 0 0 1px color(cool-gray-600),

	// Demo 3
	demo-3-bg: sasscolor.scale(#1da1f2, $lightness: -20%),
	demo-3-shadow: none,
	demo-3-svg-color: color(white),
	demo-3-text-color: color(white),

	demo-4-li-bg: color(cool-gray-800),
	demo-4-li-shadow: 0 0 0 1px color(cool-gray-600),
	demo-4-li-svg-color: color(white),
	demo-4-li-text-color: color(white),

	demo-5-li-bg: color(cool-gray-800),
	demo-5-li-shadow: 0 0 0 1px color(cool-gray-600),
	// demo-5-border-color: color(cool-gray-800),

	// Card
	card-bg: color(cool-gray-800),
	card-border-color: color(cool-gray-700),

	// SVG
	svg-color: color(cool-gray-200),
	faded-svg-color: color(cool-gray-200),
	faded-svg-opacity: 0.5,
);

:root {
	--root-bg: #{color(cool-gray-50)};
	--placeholder-bg-default: #{color(cool-gray-300)};
	--border-color-default: #{color(cool-gray-200)};

	// TODO: Move to `themes` API.
	--theme-duration: 700ms;
	--theme-timing: #{timing(ease-out)};
}

[data-theme="dark"] {
	--root-bg: #090c14;
	--placeholder-bg-default: #{color(cool-gray-700)};
	--border-color-default: #{color(cool-gray-900)};
}

:root {
	background-color: var(--root-bg);
	transition: var(--theme-transition);
}

.bg-placeholder,
[class*="border-"] {
	transition: var(--theme-transition);
}

@at-root {
	@include themes($light, $dark);
}

/*
 * Bento
 */

#bento {
	display: grid;
	grid-template-rows: 0.62fr 0.38fr;
	grid-template-columns: 0.62fr 0.14fr 0.24fr;
	grid-template-areas:
		"a a a"
		"a a a";

	gap: rem(12);
	height: rem(320);
}

#bento > :nth-child(1) {
	grid-area: a;
}
#bento > :nth-child(2) {
	grid-area: b;
}
#bento > :nth-child(3) {
	grid-area: c;
}
#bento > :nth-child(4) {
	grid-area: d;
}

@media (min-width: breakpoint(lg)) {
	#bento {
		grid-template-areas:
			"a b b"
			"a d c";
	}
}

/*
 * Demos
 */

#demos {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(px(256), 1fr));
	grid-auto-rows: rem(160);
	gap: rem(12);
}
